<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <meta content="ABC | ABC" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <title>Garage Door Company | ABC</title>
    <link
      href="%PUBLIC_URL%/assets/css/micro.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="%PUBLIC_URL%/assets/css/normalize.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="%PUBLIC_URL%/assets/css/product.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="%PUBLIC_URL%/assets/css/global.css"
      rel="stylesheet"
      type="text/css"
    />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link
      href="https://fonts.gstatic.com"
      rel="preconnect"
      crossorigin="anonymous"
    />

   </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>


    <div id="root"></div>
    
    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-3.7.1.min.js"
    ></script>
    <script
      type="text/javascript"
      src="%PUBLIC_URL%/assets/js/micro.js"
    ></script>
    <script
      src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"
      type="text/javascript"
    ></script>

    <script type="text/javascript">
      !(function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        n.className += t + "js";
        ("ontouchstart" in o ||
          (o.DocumentTouch && c instanceof DocumentTouch)) &&
          (n.className += t + "touch");
      })(window, document);
    </script>

    	 <!--  Please keep this css code to improve the font quality -->
    <style>
      * {
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
        } 
      .splide__slide {
        object-fit:cover !important;
      }
      .splide__arrow--next, .splide__arrow--prev {
        background: #fff !important; opacity: 1.0 !important;
      }
    </style>

    <!-- START SPLIDE -->
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css"
    />
    <!-- Socius Forms JS -->
  <script src="https://sociusassets.com/sociusForms.js" defer></script>

    <!-- END SPLIDE -->
    <!-- <script
      type="text/javascript"
      src="%PUBLIC_URL%/assets/js/required.js"
    ></script> -->
    
    <style>
	        /* Default styling for lightbox */
        .custom-lightbox {
          display: none; /* Hidden by default */
          /* Other styling (e.g., positioning, background) */
        }
        /* When the lightbox is visible */
        .custom-lightbox.visible {
          display: block; /* Default display for visible state */
          padding-top: 2rem;
          z-index:99999!important;
        }
        /* Media queries for responsive styling */
        @media (min-width: 768px) {
          /* Adjust styling for desktop */
          .custom-lightbox.visible {
            display: flex!important; /* Flex layout for desktop */
            /* Additional styling for desktop (e.g., alignment, spacing) */
          }
        }
	  </style>

<!-- SOCIUS FORMS CONFIG -->

<script>
  
// RECAPTCHA KEY
window.recaptchaSiteKey = "6LeJ-6coAAAAAPXaC3VGV2W_axbB7fQv09m3CBWg";
  
// COUNTRY SELECTOR - UNCOMMENT TO USE
/* window.selectCountries = ["us", "ca"]; */

// SERVICE AREA ZIPS - UNCOMMENT TO USE
/* window.serviceAreaZipCodes = ["33634", "35343"]; */
  
// PRODUCTS OF INTEREST (FORM DROPDOWN/SELECT)
window.productOfInterest=["Service 1", "Service 2", "Service 3", "Service 4"];
window.preselectedProduct="Service 1";

// DISCLAIMER & OPT-IN MESSAGE
  
window.formOptInMessage="I agree to the terms";
window.formDisclaimer="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.";
 
window.hideDisclaimerUntilClicked = false;
window.disclaimerAfterButton = false;
  
// REDIRECTION - THANK YOU
/* window.thankYouUrl=""; */
/* window.redirectToThanksWithQueryParams = false; */
  
</script>

<!-- END SOCIUS FORMS CONFIG -->

<!-- SOCIUS: Cookie Tracking & City Swapping -->
<script>
  window.phoneMap = {
    ppc: "000-000-0000",
  };

  window.basePhone = "000-000-0000";

  window.cityMap = {
    me: "Maine",
    ma: "Massachusetts",
    nh: "New Hampshire",
  };

  (function () {
    const QUERY_KEYS = {
      source: "source",
      referrer: "referer",
      city: "city",
    };

    const INPUT_SELECTORS = {
      source: ".ppc-source",
      referrer: ".referer",
    };

    function getQueryParam(key) {
      return new URLSearchParams(window.location.search).get(key);
    }

    function getCookies() {
      return Object.fromEntries(
        document.cookie
          .split("; ")
          .map((c) => c.split("="))
          .filter((c) => c.length === 2)
      );
    }

    function setCookie(name, value) {
      if (!value) return;

      const expires = new Date(
        Date.now() + 30 * 24 * 60 * 60 * 1000
      ).toUTCString();

      document.cookie = [
        `${encodeURIComponent(name)}=${encodeURIComponent(value)}`,
        "path=/",
        `expires=${expires}`,
        "SameSite=Lax",
        location.protocol === "https:" ? "Secure" : "",
      ].join("; ");
    }

    function fillInputs(selector, value) {
      if (!value) return;
      document.querySelectorAll(selector).forEach((el) => {
        if (el.tagName === "INPUT") el.value = value;
      });
    }

    function replaceCityText(city) {
      if (!city) return;

      document
        .querySelectorAll("p,h1,h2,h3,h4,h5,h6,span,div,strong")
        .forEach((el) => {
          if (el.children.length === 0) {
            el.innerHTML = el.innerHTML.replace(/your area/gi, city);
          }
        });
    }

      function swapPhone(source) {
        if (!source || !window.phoneMap) return;

        const phone = window.phoneMap[source];
        if (!phone) return;

        document.querySelectorAll('a[href^="tel:"]').forEach((el) => {

          el.setAttribute("href", `tel:${phone}`);
          const phoneNode = el.querySelector("strong, span") || el;

          phoneNode.textContent = phone;
        });
      }


    function runSociusLogic() {
      const cookies = getCookies();

      const cityKey =
        getQueryParam(QUERY_KEYS.city) || cookies.city;
      const cityName = window.cityMap?.[cityKey];

      if (cityKey) setCookie("city", cityKey);
      if (cityName) replaceCityText(cityName);

      Object.keys(INPUT_SELECTORS).forEach((key) => {
        const value =
          getQueryParam(QUERY_KEYS[key]) || cookies[key];
        if (value) {
          setCookie(key, value);
          fillInputs(INPUT_SELECTORS[key], value);
        }
      });

     const phoneSource =
          (getQueryParam(QUERY_KEYS.source) ||
            cookies.source ||
            "")
            .toString()
            .trim()
            .toLowerCase();

      swapPhone(phoneSource);

    }

    window.addEventListener("load", () => {
      setTimeout(runSociusLogic, 500);
    });

    const pushState = history.pushState;
    history.pushState = function () {
      pushState.apply(history, arguments);
      setTimeout(runSociusLogic, 500);
    };

    window.addEventListener("popstate", () => {
      setTimeout(runSociusLogic, 500);
    });
  })();
</script>

<!-- END SOCIUS -->

  </body>
</html>
